<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        <link rel="canonical" href="http://www.backbee.com/developper-documentation/components/nested_node/">
        <link rel="shortcut icon" href="../../../img/favicon.ico">

	<title>Nested Node - The BackBee documentation</title>

        <link href="../../../css/bootstrap-3.0.3.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../../../css/highlight.css">
        <link href="../../../css/base.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="../../..">The BackBee documentation</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="../../..">Introduction</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Developper documentation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../requirements/">Requirements</a>
                        </li>
                    
                        <li >
                            <a href="../../installation/">Installation</a>
                        </li>
                    
                        <li >
                            <a href="../../architecture/">Architecture</a>
                        </li>
                    
                        <li >
                            <a href="../../configuration/">Configuration</a>
                        </li>
                    
                        <li >
                            <a href="../../project_architecture/">Project Architecture</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Cookbooks <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../../cookbooks/create_bundle_administration/">Create bundle administration</a>
                        </li>
                    
                        <li >
                            <a href="../../cookbooks/create_new_commands/">Create new commands</a>
                        </li>
                    
                        <li >
                            <a href="../../cookbooks/create_new_templating_helpers/">Create new templating helpers</a>
                        </li>
                    
                        <li >
                            <a href="../../cookbooks/customize_error_pages/">Customize error pages</a>
                        </li>
                    
                        <li >
                            <a href="../../cookbooks/ease_debugging_with_profiler/">Ease debugging with the Web Profiler</a>
                        </li>
                    
                        <li >
                            <a href="../../cookbooks/use_swift_mailer_in_backbee/">Use Swift Mailer in BackBee</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Components <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../bundle/">Bundle</a>
                        </li>
                    
                        <li >
                            <a href="../classcontent/">ClassContent</a>
                        </li>
                    
                        <li >
                            <a href="../config/">Config</a>
                        </li>
                    
                        <li >
                            <a href="../event_listener/">Event Listener</a>
                        </li>
                    
                        <li >
                            <a href="../routing/">Routing</a>
                        </li>
                    
                        <li >
                            <a href="../security/">Security</a>
                        </li>
                    
                        <li >
                            <a href="../translation/">Translation</a>
                        </li>
                    
                        <li class="active">
                            <a href="./">Nested Node</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../translation/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li class="disabled">
                    <a rel="prev" >
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
                <li>
                    <a href="https://github.com/backbee/docs">
                        
                            <i class="fa fa-github"></i>
                        
                        GitHub
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#component">Component</a></li>
        
            <li><a href="#nestednode-component">NestedNode component</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="component">Component</h1>
<h2 id="nestednode-component">NestedNode component</h2>
<h3 id="what-is-it">What is it</h3>
<p>NestedNode component regroup every BackBee objects using the Nested set model. In this component, you can find KeyWord, Media, MediaFolder, Page and Section.</p>
<h3 id="nested-set-model">Nested set model</h3>
<blockquote>
<p>The nested set model is to number the nodes according to a tree traversal, which visits each node twice, assigning numbers in the order of visiting, and at both visits. This leaves two numbers for each node, which are stored as two attributes. Querying becomes inexpensive: hierarchy membership can be tested by comparing these numbers. Updating requires renumbering and is therefore expensive. Refinements that use rational numbers instead of integers can avoid renumbering, and so are faster to update, although much more complicated.</p>
<p><a href="https://en.wikipedia.org/wiki/Nested_set_model">wiki</a></p>
</blockquote>
<h3 id="keyword">KeyWord</h3>
<p>KeyWord entity it's an hierarchical tree of keyword.</p>
<p>KeyWord in the CMS are used as keyword, tag and in rare case category. This words can be attach to a <code>ClassContent</code> by using the native content Keyword.</p>
<h3 id="media-and-mediafolder">Media and MediaFolder</h3>
<p>MediaFolder entity it's an hierarchical tree of folder that contain Medias.</p>
<p>This two objects are used in the Media library and like the KeyWord Object, Media is attached to a ClassContent and more precisely all medias with this namespace <code>BackBee\ClassContent\Media</code></p>
<h3 id="page-and-section">Page and Section</h3>
<p>Page and Section work like respectively Media and MediaFolder. Only Sections are hierarchical entities.</p>
<p>To lighten the page Nested set model, the BackBee team has decided to do a distinction between pages with children (section) and pages without children (page).</p>
<p>When you create new page it has a reference to a section. It will automatically become a section when you attach a child to it.</p>
<h4 id="create-a-page-by-the-code">Create a page by the code</h4>
<p>To ease creation of new page, we recommand you to use PageBuilder. See below an example:</p>
<pre><code class="php">&lt;?php
// retrieve an application instanced or create new application
$app = new \BackBee\Standard\Application();
// Load the layout
$layout = $app-&gt;getEntityManager()-&gt;getRepository('BackBuilder\Site\Layout')-&gt;findBy(['label' =&gt; 'Home']);

$page = $app-&gt;getContainer()-&gt;get('pagebuilder')
// Add an title to your page
  -&gt;setTitle('My awesome Page')
// Add an Layout
  -&gt;setLayout($layout)
// Add Site where your page is available
  -&gt;setSite($app-&gt;getSite())
// Define your page as onlinne
  -&gt;putOnlineAndHidden()
// Add a content inner your page
  -&gt;pushElement(new \BackBee\ClassContent\Article\Article())
  -&gt;getPage();

$app-&gt;getEntityManager-&gt;persist($page);
$app-&gt;getEntityManager-&gt;flush($page);
</code></pre></div>
        </div>

	<footer class="col-md-12">
		<hr>
		
		<center>Copyright &copy; 2014-2015, <a href="http://www.backbee.com">BackBee project</a>.</center>
		
		<center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
	</footer>


        <script src="../../../js/jquery-1.10.2.min.js"></script>
        <script src="../../../js/bootstrap-3.0.3.min.js"></script>
        <script src="../../../js/highlight.pack.js"></script>
        <script src="../../../js/base.js"></script>
        <script src="../../../js/backbee.js"></script>
    </body>
</html>